
<div class="isolate{% unless section.settings.full_width %} page-width{% endunless %}">
<div class="section content-container color-{{ section.settings.color_scheme }} gradient{% if section.settings.full_width %} section--full-width content-container--full-width{% endif %} section-{{ section.id }}-padding">
  <div class="section__wrapper section__wrapper--{{ section.settings.desktop_content_position }}{% if section.settings.full_width %} page-width{% endif %}">
    <div class="section-name-content {{ section.settings.content_alignment }}">
      <a href="/checkout">Instant Checkout</a>
    </div>
      </div>
  </div>
</div>

<!-- Place this HTML where you want the button to appear -->
<button id="buyNowBtn">Buy Now</button>

<!-- Add this script tag to your Shopify theme's <head> tag or before the closing </body> tag -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('buyNowBtn').addEventListener('click', function() {
    var variantId = '44504494244096'; // Replace with your actual variant ID
    var quantity = 1;

    fetch('/cart/add.js', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        items: [{
          id: variantId,
          quantity: quantity
        }]
      }),
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.json();
    })
    .then(data => {
      // Only redirect to checkout if the item has been successfully added to the cart
      window.location.href = '/checkout';
    })
    .catch((error) => {
      console.error('Error:', error);
    });
  });
});
</script>


{% schema %}
  {
    "name": "Instant Checkout Button",
    "tag": "section",
    "class": "section",
    "settings": [ /* Code goes here */ ],
    "presets": [
      {
        "name": "Instant Checkout"
      }
    ]
  }
  {% endschema %}
